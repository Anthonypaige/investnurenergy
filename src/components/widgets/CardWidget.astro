---
import styled from 'styled-components';
import type { Card as CardType } from '~/types';
import WidgetWrapper from '~/components/ui/WidgetWrapper.astro';
import LandingLayout from '~/layouts/LandingLayout.astro';

const CardContainer = styled.div`
  border: 1px solid #ccc;
  padding: 16px;
  margin: 16px;
  border-radius: 8px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
`;

// Get Astro props
const {
  title = '',
  imageSrc = '',
  topSellingPoints = [],
  priceRange = '',
  coveredBy = '',
  taxCode = '',
  creditAmount = '',
  verifiedEnergySavings = '',
  callToAction = null
} = Astro.props as CardType;
---

<WidgetWrapper>
  <LandingLayout>
    <CardContainer>
      {imageSrc && <img src={imageSrc} alt={title} style={{width: '100%', height: 'auto', marginBottom: '16px'}} />}
      <h2 style={{fontSize: '24px', marginBottom: '8px'}}>{title}</h2>
      {topSellingPoints.map((point) => (
        <p style={{fontSize: '16px', marginBottom: '8px'}}>â€¢ {point}</p>
      ))}
      
      <p style={{fontSize: '16px', marginBottom: '8px'}}>Price Range: {priceRange}</p>
      <p style={{fontSize: '16px', marginBottom: '8px'}}>Covered By: {coveredBy}</p>
      <p style={{fontSize: '16px', marginBottom: '8px'}}>Tax Code: {taxCode}</p>
      <p style={{fontSize: '16px', marginBottom: '8px'}}>Credit Amount: {creditAmount}</p>
      <p style={{fontSize: '16px', marginBottom: '8px'}}>Verified Energy Savings: {verifiedEnergySavings}</p>
      {callToAction && (
        <a href={callToAction.href} target={callToAction.target} style={{display: 'inline-block', padding: '12px 24px', backgroundColor: '#007bff', color: 'white', textAlign: 'center', borderRadius: '4px', textDecoration: 'none'}}>
          {callToAction.text}
        </a>
      )}
    </CardContainer>
  </LandingLayout>
</WidgetWrapper>
